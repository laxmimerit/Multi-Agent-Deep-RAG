|                                        | Three Months Ended June 30,   | Three Months Ended June 30,   | Six Months Ended June 30,   | Six Months Ended June 30,   |
|----------------------------------------|-------------------------------|-------------------------------|-----------------------------|-----------------------------|
|                                        | 2023                          | 2024                          | 2023                        | 2024                        |
| Cost of sales                          | $ 251                         | $ 266                         | $ 416                       | $ 440                       |
| Fulfillment                            | 932                           | 944                           | 1,535                       | 1,580                       |
| Technology and infrastructure          | 4,043                         | 3,670                         | 6,617                       | 6,442                       |
| Sales and marketing                    | 1,303                         | 1,224                         | 2,296                       | 2,156                       |
| General and administrative             | 598                           | 618                           | 1,011                       | 1,065                       |
| Total stock-based compensation expense | $ 7,127                       | $ 6,722                       | $ 11,875                    | $ 11,683                    |
The following table summarizes our restricted stock unit activity for the six months ended June 30, 2024 (in millions):

|                                     | Number of Units   | Weighted-Average Grant-Date Fair Value   |
|-------------------------------------|-------------------|------------------------------------------|
| Outstanding as of December 31, 2023 | 405.8             | $ 125                                    |
| Units granted                       | 105.0             | 180                                      |
| Units vested                        | (107.3)           | 132                                      |
| Units forfeited                     | (23.0)            | 130                                      |
| Outstanding as of June 30, 2024     | 380.5             | 138                                      |