|                                        | Three Months Ended September 30,   | Three Months Ended September 30,   | Nine Months Ended September 30,   | Nine Months Ended September 30,   |
|----------------------------------------|------------------------------------|------------------------------------|-----------------------------------|-----------------------------------|
|                                        | 2023                               | 2024                               | 2023                              | 2024                              |
| Cost of sales                          | $ 193                              | $ 193                              | $ 609                             | $ 633                             |
| Fulfillment                            | 732                                | 696                                | 2,267                             | 2,276                             |
| Technology and infrastructure          | 3,284                              | 2,961                              | 9,901                             | 9,403                             |
| Sales and marketing                    | 1,111                              | 1,012                              | 3,407                             | 3,168                             |
| General and administrative             | 509                                | 471                                | 1,520                             | 1,536                             |
| Total stock-based compensation expense | $ 5,829                            | $ 5,333                            | $ 17,704                          | $ 17,016                          |
The following table summarizes our restricted stock unit activity for the nine months ended September 30, 2024 (in millions):

|                                      | Number of Units   | Weighted-Average Grant-Date Fair Value   |
|--------------------------------------|-------------------|------------------------------------------|
| Outstanding as of December 31, 2023  | 405.8             | $ 125                                    |
| Units granted                        | 115.4             | 180                                      |
| Units vested                         | (127.8)           | 133                                      |
| Units forfeited                      | (31.9)            | 131                                      |
| Outstanding as of September 30, 2024 | 361.5             | 139                                      |